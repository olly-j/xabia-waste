<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0b5cff" />
    <title>Xàbia Waste – PWA</title>
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="icon" href="./icons/app-icon.svg" type="image/svg+xml" />
    <meta name="description" content="What waste can I throw away now in Xàbia? Time-based rules, seasons, i18n. Offline PWA." />
    <link rel="apple-touch-icon" href="./icons/app-icon.svg" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="glass-container">
      <svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden">
        <symbol id="i-organic" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 2c1.5 2.5 1.2 4.6-.9 6.1c-2.1 1.5-3.8 3.6-4.7 6.1c-1 2.8.4 5.7 3.2 6.6c2.8.9 5.7-.6 6.6-3.4c.3-.9.5-1.9.5-2.8c0-2.4-.9-4.6-2.6-6.3C12.6 6 12.1 4.1 12 2Z"/>
        </symbol>
        <symbol id="i-other" viewBox="0 0 24 24">
          <path fill="currentColor" d="M7 4h10l1 2h3v2H3V6h3l1-2Zm-2 6h14l-1.2 9.1c-.1.9-.9 1.9-1.8 1.9H8c-.9 0-1.7-1-1.8-1.9L5 10Z"/>
        </symbol>
        <symbol id="i-glass" viewBox="0 0 24 24">
          <path fill="currentColor" d="M7 2h10v6c0 2.2-1.8 4-4 4v8h-2v-8c-2.2 0-4-1.8-4-4V2Z"/>
        </symbol>
        <symbol id="i-recycle" viewBox="0 0 24 24">
          <path fill="currentColor" d="M7.7 6.3L10 2l2 1.2l-1.6 2.7l1.7 3H8.3l-.6-1.1l-2 .9L5 7.6l2.7-1.3Zm11.3 6.4l3 5.1l-1.9 1.1l-1.6-2.7l-3.5.1l1.9-3.3l1.1.1l.3-2.2l1.7.1l-.9 1.7ZM4 14.2l1-2l2 .9l-.8 1.5l2.8 2.1l-3.7 2.2l-.6-1l-2.1.4l-.8-1.8L4 14.2Z"/>
        </symbol>
        <symbol id="i-bulky" viewBox="0 0 24 24">
          <path fill="currentColor" d="M3 6h14v10H3V6Zm16 3h2v7h-2V9ZM6 18h8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2Z"/>
        </symbol>
        <symbol id="i-install" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 2v10.6l3.3-3.3l1.4 1.4L12 16.4L7.3 10.7l1.4-1.4L12 12.6V2h0ZM5 20h14v2H5v-2Z"/>
        </symbol>
      </svg>

      <header class="app-header">
        <div class="title-row">
          <h1 id="app-title">Xàbia Waste</h1>
          <span id="season-badge" class="badge badge-season">–</span>
        </div>
        <div class="controls-row">
          <div class="lang-toggle" role="group" aria-label="Language">
            <button class="chip" data-lang="en">EN</button>
            <button class="chip" data-lang="es">ES</button>
            <button class="chip" data-lang="va">VA</button>
          </div>
          <button id="btn-install" class="install-btn">
            <svg width="18" height="18" aria-hidden="true"><use href="#i-install"/></svg>
            <span data-i18n="install">Install</span>
          </button>
        </div>
      </header>

      <main class="container">
        <section class="time-control">
          <div class="time-display">
            <span id="current-time" class="time-large">00:00</span>
            <span id="current-date" class="date-small">Today</span>
          </div>
          <div class="slider-container">
            <input id="time-slider" type="range" min="-96" max="96" value="0" step="1" />
            <div class="slider-labels">
              <span>-24h</span>
              <span>Now</span>
              <span>+24h</span>
            </div>
          </div>
        </section>

        <section class="waste-status">
          <ul class="waste-list" id="waste-list"></ul>
        </section>

        <section class="chat-section">
          <div class="chat-header">
            <span data-i18n="chat_title">Chat</span>
            <span class="hint" data-i18n="chat_hint">Try: now, +3h, at 21:00, on 2025-09-15 22:30, lang es</span>
          </div>
          <div id="chat-output" class="chat-output" aria-live="polite"></div>
          <form id="chat-form" class="chat-form">
            <input id="chat-input" type="text" autocomplete="off" placeholder="now | +1h | at 21:00 | on 2025-09-15 22:30 | lang es | help" />
            <button type="submit" class="chip">OK</button>
          </form>
        </section>
      </main>

      <footer class="app-footer">
        <p id="legal" class="legal" data-i18n="legal">Respect municipal rules. Fines apply for violations.</p>
        <p class="source">
          <span data-i18n="sources">Sources</span>: 
          <a href="https://www.ajxabia.com/ver/1282/ecoparc.html" target="_blank" rel="noopener">ajxabia.com</a> · 
          <a href="https://www.javea.com/en/xabia-actualiza-los-horarios-para-tirar-la-basura-y-advierte-habra-sanciones/" target="_blank" rel="noopener">javea.com</a>
        </p>
      </footer>
    </div>

    <script src="./app.js" type="module"></script>
  </body>
</html>


